[
  {
    "id": [ "TALK_CHAIN_EXP" ],
    "type": "talk_topic",
    "dynamic_line": {
      "concatenate": [
        {
          "npc_has_trait": "VOIRO_BODY_YUKARI",
          "yes": "おや、どうしました<u_name>さん。\nそんな改まった態度で…",
          "no": {
            "npc_has_trait": "VOIRO_BODY_AKARI",
            "yes": "お？\n<u_name>さん、何か大事な話でもあるんですか？",
            "no": {
              "npc_has_trait": "VOIRO_BODY_IA",
              "yes": "あ、うん。\nえと…<u_name>さん、どうしたの？",
              "no": {
                "npc_has_trait": "VOIRO_BODY_KIRITAN",
                "yes": "ええと…神妙な顔してどうしたんですか、<u_name>さん？",
                "no": {
                  "npc_has_trait": "VOIRO_BODY_AKANE",
                  "yes": "……<u_name>、どないしたん？\nなんや、いつもより緊張してるみたいやけど……。",
                  "no": {
                    "npc_has_trait": "VOIRO_BODY_AOI",
                    "yes": "<u_name>さん？\n改まってお話なんて…どうかしました？",
                    "no": ""
                  }
                }
              }
            }
          }
        }
      ]
    },
    "repeat_responses": [
      {
        "for_item": [
          "ring_wedding_silver",
          "ring_wedding",
          "ring_purity",
          "diamond_ring",
          "diamond_silver_ring",
          "diamond_platinum_ring",
          "ring_engagement"
        ],
        "response": { "text": "<topic_item>を渡す", "topic": "TALK_CHAIN_EXP2" }
      }
    ],
    "responses": [ { "text": "すまない、まだ準備ができていないようだ", "topic": "TALK_NONE" } ]
  },
  {
    "id": [ "TALK_CHAIN_EXP2" ],
    "type": "talk_topic",
    "dynamic_line": {
      "concatenate": [
        {
          "npc_has_trait": "VOIRO_BODY_YUKARI",
          "yes": "えっ！？\nえっ…あっ…えぇ？\nこ、これって何かのドッキリですか？\nそ、そうですよね！<u_name>さんが私にこんな…ねぇ？\n……ほ、本当に私、受け取っていいんですか？",
          "no": {
            "npc_has_trait": "VOIRO_BODY_AKARI",
            "yes": "指輪？\nえと、あの…な、なんですかこれ。\nこ、こんな…わ、私だってちゃんとこれを受け取る意味わかってますよ？\nだから、その…ほ、ほんとに私でいいんですか？",
            "no": {
              "npc_has_trait": "VOIRO_BODY_IA",
              "yes": "これは…指輪、だよね。\nしかもこれって確か結婚指輪で….\nえと、もしかしてその…わ、私自惚れてもいいのかな？\nだから、その…この指輪もらって、<u_name>のお嫁さんに…なんて、ははっ",
              "no": {
                "npc_has_trait": "VOIRO_BODY_KIRITAN",
                "yes": "…っ！？\nあ、あの、これ…どういう意味か分かってますか？\n今はその…こ、こんな状況だし、わたしだって…。\nま、まだ小学生なんですよ？",
                "no": {
                  "npc_has_trait": "VOIRO_BODY_AKANE",
                  "yes": "あ、えっと……あ、あはっ、さてはこれドッキリやな？\nざ、残念やったな！茜ちゃんはそない簡単に引っかかったりせえへんで？",
                  "no": {
                    "npc_has_trait": "VOIRO_BODY_AOI",
                    "yes": "あの、えっと……これ指輪？\nえ、えぇ？\nいや、その……な、なんで急に……",
                    "no": ""
                  }
                }
              }
            }
          }
        }
      ]
    },
    "responses": [ { "text": "受け取ってほしい", "topic": "TALK_CHAIN_EXP3" } ]
  },
  {
    "id": [ "TALK_CHAIN_EXP3" ],
    "type": "talk_topic",
    "dynamic_line": {
      "concatenate": [
        {
          "npc_has_trait": "VOIRO_BODY_YUKARI",
          "yes": "～～～～～っ！！！\nは、はい！\nえと、その…ふっ、不束者ですがよろしくお願いしましゅ！\nあぁ、噛んじゃった！",
          "no": {
            "npc_has_trait": "VOIRO_BODY_AKARI",
            "yes": "あ、うー…。\nは、はい…ありがとう、ございます。\nえへっ、えへへへ、信じられないなぁ…。\nなんだか嬉しくって顔がにやけちゃう",
            "no": {
              "npc_has_trait": "VOIRO_BODY_IA",
              "yes": "……はいっ！\n夢じゃないよね、これ…わ、私<u_name>のお嫁さんになっちゃった…。\nえへ、えへへっ…。\nどうしよう、言葉に出したらすっごく照れちゃうね、これ",
              "no": {
                "npc_has_trait": "VOIRO_BODY_KIRITAN",
                "yes": "あー…うぅ…。\nあー！もう！わかった、わかりましたよ！\nその代わりクーリングオフは無しですからね！\nこれ、もう絶対返しませんから！",
                "no": {
                  "npc_has_trait": "VOIRO_BODY_AKANE",
                  "yes": "いや、えっと……ほ、ほんまに？その…ほんまにウチなんかでええの？\nウチ、は…<u_name>と一緒に居たいと、思うけど……。\nううん、キミが選んでくれたんやもん…一緒に居てもええよね！\nえっと、こっちこそよろしくな、<u_name>！",
                  "no": {
                    "npc_has_trait": "VOIRO_BODY_AOI",
                    "yes": "わ、私、にこれを？\n……うぅ、私お姉ちゃんみたいに可愛くないですよ？\nそれなのに本当に？\n本当に私でいいんですか？\n…………はい、私も<u_name>さんと一緒にいたい、です……好きだから……",
                    "no": ""
                  }
                }
              }
            }
          }
        }
      ]
    },
    "responses": [
      {
        "text": "これからも私のそばにいてほしい。",
        "topic": "TALK_DONE",
        "effect": [
          { "npc_lose_trait": "band_lv4" },
          { "npc_add_trait": "band_lv5" },
          {
            "u_message": "<npc_name>との絆が深まりました！\n<npc_name>はこの世で最愛の人になりました！",
            "popup": true
          },
          { "u_consume_item": { "mutator": "topic_item" }, "count": 1 }
        ]
      }
    ]
  }
]
